{
  "name":"Bobinette",
  "type":"OSC",
  "path":"Sans Gravité",

  "version":"1.4.5",
  "description":"Contrôle simplifiée d\'une bobinette animatronique ",


  "hasInput":true,
  "hasOutput":true,

  "hideDefaultCommands":true,

  "defaults":
  {
    "autoAdd":false,
    "OSC Input":
    {
      "localPort":10005
    },

		"OSC Outputs":
		{
			"OSC Output":
      {
        "local":false,
        "remoteHost":"bobinette.local",
        "remotePort":9000
      }
    }
  },

  "parameters":
  {
    "Module version":
    {
      "type":"String",
      "default":"Nov2022-1.4.5",
      "readOnly":true
    },
    "Firmware version":
    {
      "type":"String",
      "default":"",
      "readOnly":true
    },
    "IP":
    {
      "type":"String",
      "default":"",
      "readOnly":true
    },
    "Invocation":
    {
      "type":"Trigger"
    },
    "Sequences":
    {
      "type":"Enum"
    },
    "Play":
    {
      "type":"Trigger"
    },
    "Nombre de pas / tour":
    {
      "type":"Enum",
      "readOnly":true,
      "options":{"400":400, "200":200}
    },
    "Position -1":
    {
      "type":"Integer",
      "min": -100,
      "max": 0,
      "default": -10
    },
    "Position 1":
    {
      "type":"Integer",
      "min": 0,
      "max": 100,
      "default": 10
    },
    "Reset position":
    {
      "type":"Trigger"
    },
    "Stop":
    {
      "type":"Trigger"
    },
    "Release":
    {
      "type":"Trigger"
    }
  },

  "hideDefaultParameters": ["useHierarchy",  "autoFeedback", "autoAdd", "colorSendMode", "pass_through", "oscInput/local", "oscOutputs/oscOutput/local", "oscOutputs/oscOutput/remotePort", "oscOutputs/oscOutput/listenToFeedback"],

  "scripts":
  [
    "bobinette.js"
  ],

  "values":
  {
    "Batterie":
    {
      "type":"Float",
      "min": 0,
      "max": 1,
      "readOnly": true
    },
    "Carte SD Detectee":
    {
      "type":"Boolean",
      "readOnly":true
    },
    "Position Tours":
    {
      "type":"Float",
      "default":0,
      "readOnly":true
    },
    "Position Pas":
    {
      "type":"Integer",
      "default":0,
      "readOnly":true
    },
    "Position Relative":
    {
      "type":"Float",
      "min":-1,
      "max":1,
      "default":0,
      "readOnly":true
    },
    "Vitesse":
    {
      "type":"Float",
      "min": 0,
      "max": 10,
      "readOnly": true
    },
    "Vitesse Max":
    {
      "type":"Float",
      "min": 0,
      "max": 10,
      "readOnly": true
    }
  },

  "commands":
  {
    "Stop":
    {
      "menu":"Arrêt",
      "callback":"stop",
    },
    "Release":
    {
      "menu":"Arrêt",
      "callback":"release",
    },
    "Reset Position":
    {
      "menu":"Arrêt",
      "callback":"resetPosition",
    },
    "Régler Vitesse Lente":
    {
      "menu":"Vitesse",
      "callback":"setSpeed",
      "parameters":
      {
        "Nombre tours / sec":
        {
          "type":"Float",
          "min":-0.6,
          "max":0.6,
          "default":0.6
        }
      }
    },
    "Régler Vitesse":
    {
      "menu":"Vitesse",
      "callback":"setSpeed",
      "parameters":
      {
        "Nombre tours / sec":
        {
          "type":"Float",
          "min":-8.0,
          "max":8.0,
          "default":8.0
        }
      }
    },
    "Aller à (lent)":
    {
      "menu":"Position - Lent",
      "callback":"goToRel",
      "parameters":
      {
        "Position relative":
        {
          "type":"Float",
          "min":-1.0,
          "max":1.0,
          "default":0.0
        },
        "Vitesse Max (tr/sec)":
        {
          "type":"Float",
          "min":0.0,
          "max":0.6,
          "default":0.6
        },
        "Acceleration (tr/sec²)":
        {
          "type":"Float",
          "min":0.0,
          "max":5.0,
          "default":1.0
        }
      }
    },
    "Bouger de (lent)":
    {
      "menu":"Position - Lent",
      "callback":"moveTo",
      "parameters":
      {
        "Nombre de tours":
        {
          "type":"Float",
          "min":-100.0,
          "max":100.0,
          "default":1.0
        },
        "Vitesse Max (tr/sec)":
        {
          "type":"Float",
          "min":0.0,
          "max":0.6,
          "default":0.6
        },
        "Acceleration (tr/sec²)":
        {
          "type":"Float",
          "min":0.0,
          "max":0.5,
          "default":0.5
        }
      }
    },
    "Aller à (rapide)":
    {
      "menu":"Position - Rapide",
      "callback":"goToRel",
      "parameters":
      {
        "Position relative":
        {
          "type":"Float",
          "min":-1.0,
          "max":1.0,
          "default":0.0
        },
        "Vitesse Max (tr/sec)":
        {
          "type":"Float",
          "min":1.0,
          "max":8.0,
          "default":8.0
        },
        "Acceleration (tr/sec²)":
        {
          "type":"Float",
          "min":0.0,
          "max":30.0,
          "default":30.0
        }
      }
    },
    "Bouger de (rapide)":
    {
      "menu":"Position - Rapide",
      "callback":"moveTo",
      "parameters":
      {
        "Nombre de tours":
        {
          "type":"Float",
          "min":-100.0,
          "max":100.0,
          "default":1.0
        },
        "Vitesse Max (tr/sec)":
        {
          "type":"Float",
          "min":1.0,
          "max":8.0,
          "default":8.0
        },
        "Acceleration (tr/sec²)":
        {
          "type":"Float",
          "min":0.0,
          "max":30.0,
          "default":30.0
        }
      }
    },
    "Lancer Sequence":
    {
      "menu":"Sequence",
      "callback":"playSequence",
      "parameters":
      {
        "Name":
        {
          "type":"String"
        },
        "FPS":
        {
          "type":"Integer",
          "min":0,
          "max":200,
          "default":30
        }
      }
    },
    "Arrêter Sequence":
    {
      "menu":"Sequence",
      "callback":"stopSequence",
      "parameters":
      {
      }
    }
  }
}
